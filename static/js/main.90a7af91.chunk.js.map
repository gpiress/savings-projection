{"version":3,"sources":["savings-page/SavingsTooltip.tsx","savings-page/SavingsPage.tsx","savings-page/computeSavings.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["SavingsTooltip","active","payload","length","uniqueEntries","forEach","entry","filter","itemList","monthly","push","entries","map","index","toLocaleString","total","value","style","currency","text","className","yearsPassed","SavingsPage","props","state","monthlySavings","relevantYears","totalSavingsData","averageYearlyReturn","taxOnReturn","initialCapital","handleInputChange","bind","this","computeDataPoints","dataPoints","averageReturn","taxOnReturns","savingsDataPoints","totalSavings","Map","saving","set","maxYear","reduce","max","current","i","savings","yearly","previous","get","newTotal","simulate","setState","event","target","name","colors","linesElements","relevantPoints","dataPoint","Line","data","type","dataKey","stroke","strokeWidth","ResponsiveContainer","width","height","LineChart","margin","left","CartesianGrid","strokeDasharray","XAxis","domain","YAxis","Tooltip","content","onChange","href","onClick","Component","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.90a7af91.chunk.js","sourcesContent":["import { TooltipProps } from 'recharts';\r\nimport './savings-tooltip.css';\r\n\r\n\r\nconst SavingsTooltip = ({ active, payload }: TooltipProps<number, string>) => {\r\n    if (active && payload && payload.length) {\r\n        const uniqueEntries: Array<any> = [];\r\n        payload.forEach(entry => {\r\n            const found = uniqueEntries.filter(itemList => itemList.payload?.monthly === entry.payload?.monthly).length > 0;\r\n            if (!found) {\r\n                uniqueEntries.push(entry);\r\n            }\r\n        });\r\n\r\n        const entries = uniqueEntries.map((entry, index) => {\r\n            const monthly = entry.payload?.monthly?.toLocaleString('SE');\r\n            const total = entry.value?.toLocaleString('en-US', { style: 'currency', currency: 'SEK' });\r\n            const text = `${monthly} - ${total}`;\r\n            return (\r\n                <p className=\"custom-tooltip--value\" key={index}>{text}</p>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div className=\"custom-tooltip\">\r\n                <span className=\"custom-tooltip--years\">After {payload?.[0]?.payload?.yearsPassed} years</span>\r\n                <div className=\"custom-tooltip--values-list\">\r\n                    { entries }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\nexport default SavingsTooltip;","import React, { Component, ChangeEvent } from 'react';\r\nimport { LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip, ResponsiveContainer } from 'recharts';\r\n\r\nimport SavingsDataPoint from './SavingsDataPoint';\r\nimport SavingsTooltip from './SavingsTooltip';\r\nimport { simulate } from './computeSavings';\r\n\r\nimport './savings-page.css'\r\n\r\ninterface SavingsPageState {\r\n    monthlySavings: Array<number>;\r\n    relevantYears: Array<number>;\r\n    totalSavingsData: Array<SavingsDataPoint>;\r\n    averageYearlyReturn: number;\r\n    taxOnReturn: number;\r\n    initialCapital: number;\r\n}\r\n\r\ninterface SavingsPageProps {}\r\n\r\n\r\nclass SavingsPage extends Component<SavingsPageProps, SavingsPageState> {\r\n\r\n    constructor(props: SavingsPageProps) {\r\n        super(props);\r\n        this.state = {\r\n            monthlySavings: [1000, 2500, 5000, 7500, 10000, 15000],\r\n            relevantYears: [0, 5, 10, 15, 20, 25, 30, 35, 40],\r\n            totalSavingsData: [],\r\n            averageYearlyReturn: 0.05,\r\n            taxOnReturn: 0.02,\r\n            initialCapital: 0,\r\n        };\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.computeDataPoints();\r\n    }\r\n\r\n    computeDataPoints() {\r\n        const { monthlySavings, relevantYears, averageYearlyReturn, taxOnReturn, initialCapital } = this.state\r\n        const dataPoints = simulate(initialCapital, monthlySavings, relevantYears, averageYearlyReturn, taxOnReturn);\r\n\r\n        this.setState({ totalSavingsData: dataPoints });\r\n    }\r\n\r\n    handleInputChange(event: ChangeEvent<HTMLInputElement>) {\r\n        const target = event.target;\r\n        const value = +target.value;\r\n        const name = target.name;\r\n\r\n        if (name === \"averageYearlyReturn\" && value >= 0 && value <= 1) {\r\n            this.setState({\r\n                averageYearlyReturn: value\r\n            });\r\n        } else if (name === \"taxOnReturn\" && value >= 0 && value <= 1) {\r\n            this.setState({\r\n                taxOnReturn: value\r\n            });\r\n        } else if (name === \"initialCapital\" && value >= 0) {\r\n            this.setState({\r\n                initialCapital: value\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const dataPoints = this.state.totalSavingsData;\r\n        const savings = this.state.monthlySavings;\r\n\r\n        const colors = [\r\n            \"#1E3231\",\r\n            \"#485665\",\r\n            \"#558C8C\",\r\n            \"#8E7C93\",\r\n            \"#D0A5C0\",\r\n            \"#F6C0D0\",\r\n            \"#82204A\",\r\n        ];\r\n\r\n        const linesElements = savings.map((saving, index) => {\r\n            const relevantPoints = dataPoints\r\n                .filter(dataPoint => dataPoint.monthly === saving)\r\n                .filter(dataPoint => dataPoint.yearsPassed % 5 === 0);\r\n            return (\r\n                <Line data={relevantPoints} type=\"monotone\" dataKey=\"total\" stroke={colors[index]} strokeWidth={3} key={index} />\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <h1>Savings projection</h1>\r\n                <div className=\"savings-page\">\r\n                    <div className=\"savings-page--chart-area\">\r\n                        <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                            <LineChart data={dataPoints} margin={{left: 30}}>\r\n                                { linesElements }\r\n                                <CartesianGrid stroke=\"#ccc\" strokeDasharray=\"5 5\" />\r\n                                <XAxis type=\"number\" dataKey=\"yearsPassed\" domain={[0, 'dataMax']} />\r\n                                <YAxis />\r\n                                <Tooltip content={SavingsTooltip}/>\r\n                            </LineChart>\r\n                        </ResponsiveContainer>\r\n                    </div>\r\n                    <div className=\"savings-page--info-area\">\r\n                        <div className=\"info-area--block\">\r\n                            <span className=\"info-area--block-header\"># Customize</span>\r\n                            <div className=\"info-area--block--input-area\">\r\n                                <span>Average yearly return (0-1)*</span>\r\n                                <input type=\"number\" name=\"averageYearlyReturn\" value={this.state.averageYearlyReturn} onChange={this.handleInputChange}></input>\r\n                            </div>\r\n\r\n                            <div className=\"info-area--block--input-area\">\r\n                                <span>Taxes on return (0-1)</span>\r\n                                <input type=\"number\" name=\"taxOnReturn\" value={this.state.taxOnReturn} onChange={this.handleInputChange}></input>\r\n                            </div>\r\n\r\n                            <div className=\"info-area--block--input-area\">\r\n                                <span>Starting capital (no decimals)</span>\r\n                                <input type=\"number\" name=\"initialCapital\" value={this.state.initialCapital} onChange={this.handleInputChange}></input>\r\n                            </div>\r\n\r\n                            <div className=\"info-area-block--footnote\">\r\n                                <a href=\"https://www.investopedia.com/ask/answers/042415/what-average-annual-return-sp-500.asp\">S&P 500 historical yearly return is roughly 8%</a>\r\n                            </div>\r\n\r\n                            <button className=\"info-area--button\" onClick={(event) => this.computeDataPoints()}>Render</button>\r\n                        </div>\r\n\r\n                        <div className=\"info-area--block\">\r\n                            <span className=\"info-area--block-header\"># Fixed</span>\r\n                            <div className=\"info-area--block--input-area\">\r\n                                <span>Monthly savings</span>\r\n                                <span className=\"info-area--block--fixed-values\">[1000, 2500, 5000, 7500, 10000, 15000]</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"info-area--block\">\r\n                            <span className=\"info-area--block-header\"># How it works</span>\r\n                            <p>For every year, it computes:</p>\r\n                            <ol>\r\n                                <li>the yearly returns <code className=\"info--code\">yearlyReturns = previousSavings * averageYearlyReturn</code>,</li>\r\n                                <li>the taxes to be paid <span className=\"info--code\">taxes = yearlyReturns * taxOnReturns</span></li>\r\n                                <li>and the new savings total: <span className=\"info--code\">newTotal = previousSavings + yearlyReturns - taxes + yearSavings</span></li>\r\n                            </ol>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SavingsPage;","import SavingsDataPoint from \"./SavingsDataPoint\";\r\n\r\n\r\nconst simulate = (initialCapital: number, monthlySavings: Array<number>, relevantYears: Array<number>, averageReturn: number, taxOnReturns: number)\r\n        : Array<SavingsDataPoint> => {\r\n    let savingsDataPoints: Array<SavingsDataPoint> = [];\r\n\r\n    let totalSavings: Map<number, number> = new Map();\r\n    monthlySavings.forEach(saving => { \r\n        totalSavings.set(saving, initialCapital);\r\n        savingsDataPoints.push({\r\n            monthly: saving,\r\n            total: initialCapital,\r\n            yearsPassed: 0,\r\n        });\r\n    });\r\n\r\n    const maxYear: number = relevantYears.reduce((max, current) => current > max ? current : max, -1);\r\n\r\n    for (let i = 1; i <= maxYear; i++) {\r\n\r\n        monthlySavings.forEach(savings => {\r\n            const yearly = savings * 12;\r\n            const previous = totalSavings.get(savings) || 0;\r\n            const returnOnPrevious = previous * averageReturn;\r\n            const returnMinusTaxes = returnOnPrevious * (1. - taxOnReturns);\r\n\r\n            const newTotal = yearly + previous + returnMinusTaxes;\r\n            totalSavings.set(savings, newTotal);\r\n\r\n            savingsDataPoints.push({\r\n                monthly: savings,\r\n                total: newTotal,\r\n                yearsPassed: i,\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n\r\n    return savingsDataPoints;\r\n};\r\n\r\nexport {\r\n    simulate\r\n};","import React from 'react';\nimport './App.css';\n\nimport SavingsPage from './savings-page/SavingsPage';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <SavingsPage />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}